<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vue.js Задания</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f7fa;
        }
        h1, h2 {
            color: #2c3e50;
        }
        .task {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            border-left: 4px solid #42b883;
        }
        .task h2 {
            margin-top: 0;
            display: flex;
            align-items: center;
        }
        .task-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            background-color: #42b883;
            color: white;
            border-radius: 50%;
            margin-right: 10px;
            font-size: 16px;
        }
        input, button {
            padding: 8px 12px;
            margin: 5px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }
        button {
            background-color: #42b883;
            color: white;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #369870;
        }
        ul {
            padding-left: 20px;
        }
        li {
            margin-bottom: 8px;
        }
        .description {
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 4px;
            margin: 10px 0;
        }
        .user-list {
            margin-top: 15px;
        }
        .user-item {
            padding: 8px;
            background-color: #f1f8ff;
            margin-bottom: 5px;
            border-radius: 4px;
        }
        .time-display {
            font-size: 18px;
            font-weight: bold;
            margin: 10px 0;
        }
        .greeting {
            font-size: 20px;
            color: #2c3e50;
            margin: 10px 0;
        }
    </style>
</head>
<body>
<h1>Vue.js Практические задания</h1>

<div id="app">
    <!-- Задача 1: Привет, Vue! -->
    <div class="task">
        <h2><span class="task-number">1</span> Привет, Vue!</h2>
        <p>Введите ваше имя:</p>
        <input type="text" v-model="name" placeholder="Ваше имя">
        <p><strong>Приветствие:</strong> {{ greeting }}</p>
    </div>

    <!-- Задача 2: Реактивный счётчик -->
    <div class="task">
        <h2><span class="task-number">2</span> Реактивный счётчик</h2>
        <p>Текущее значение: {{ counter }}</p>
        <button @click="incrementCounter">Увеличить счётчик</button>
    </div>

    <!-- Задача 3: Условный рендеринг -->
    <div class="task">
        <h2><span class="task-number">3</span> Условный рендеринг</h2>
        <button @click="toggleDescription">
            {{ showDescription ? 'Скрыть' : 'Показать' }} описание
        </button>
        <div v-if="showDescription" class="description">
            <p>Это описание, которое можно показать или скрыть с помощью кнопки.</p>
            <p>Здесь используется директива v-if для условного рендеринга.</p>
        </div>
    </div>

    <!-- Задача 4: Список элементов -->
    <div class="task">
        <h2><span class="task-number">4</span> Список элементов</h2>
        <p>Список задач:</p>
        <ul>
            <li v-for="(task, index) in tasks" :key="task.id">
                {{ index + 1 }}. {{ task.name }}
            </li>
        </ul>
    </div>

    <!-- Задача 5: Мини-форма -->
    <div class="task">
        <h2><span class="task-number">5</span> Мини-форма</h2>
        <form @submit.prevent="addUser">
            <div>
                <input type="text" v-model="newUser.name" placeholder="Имя" required>
            </div>
            <div>
                <input type="number" v-model="newUser.age" placeholder="Возраст" required min="0">
            </div>
            <button type="submit">Добавить</button>
        </form>

        <div class="user-list">
            <h3>Добавленные пользователи:</h3>
            <div v-if="users.length === 0">
                <p>Пользователи еще не добавлены</p>
            </div>
            <div v-else>
                <div v-for="(user, index) in users" :key="index" class="user-item">
                    {{ user.name }}, {{ user.age }} лет
                </div>
            </div>
        </div>
    </div>

    <!-- Задача 6: Вычисляемые свойства -->
    <div class="task">
        <h2><span class="task-number">6</span> Вычисляемые свойства</h2>
        <p>Введите число:</p>
        <input type="number" v-model="number">
        <div v-if="number">
            <p>Число: {{ number }}</p>
            <p>Квадрат числа: {{ squared }}</p>
            <p>Куб числа: {{ cubed }}</p>
        </div>
    </div>

    <!-- Задача 7: Watch и жизненный цикл -->
    <div class="task">
        <h2><span class="task-number">7</span> Watch и жизненный цикл</h2>
        <div class="time-display">Текущее время: {{ currentTime }}</div>
        <div class="greeting">{{ timeGreeting }}</div>
        <p><small>Откройте консоль браузера, чтобы увидеть сообщения при обновлении времени</small></p>
    </div>
</div>

<script>
    const { createApp, ref, computed, watch, onMounted } = Vue;

    createApp({
        setup() {
            // Задача 1: Привет, Vue!
            const name = ref('Пользователь');
            const greeting = computed(() => `Привет, ${name.value}!`);

            // Задача 2: Реактивный счётчик
            const counter = ref(0);
            const incrementCounter = () => {
                counter.value++;
            };

            // Задача 3: Условный рендеринг
            const showDescription = ref(false);
            const toggleDescription = () => {
                showDescription.value = !showDescription.value;
            };

            // Задача 4: Список элементов
            const tasks = ref([
                { id: 1, name: 'Изучить Vue.js' },
                { id: 2, name: 'Создать приложение' },
                { id: 3, name: 'Развернуть проект' },
                { id: 4, name: 'Оптимизировать код' }
            ]);

            // Задача 5: Мини-форма
            const newUser = ref({
                name: '',
                age: ''
            });
            const users = ref([]);
            const addUser = () => {
                if (newUser.value.name && newUser.value.age) {
                    users.value.push({
                        name: newUser.value.name,
                        age: newUser.value.age
                    });
                    // Очистка формы
                    newUser.value.name = '';
                    newUser.value.age = '';
                }
            };

            // Задача 6: Вычисляемые свойства
            const number = ref('');
            const squared = computed(() => {
                const num = parseFloat(number.value);
                return isNaN(num) ? '' : num * num;
            });
            const cubed = computed(() => {
                const num = parseFloat(number.value);
                return isNaN(num) ? '' : num * num * num;
            });

            // Задача 7: Watch и жизненный цикл
            const currentTime = ref('');
            const timeGreeting = ref('');

            const updateTime = () => {
                const now = new Date();
                currentTime.value = now.toLocaleTimeString();

                const hour = now.getHours();
                if (hour >= 5 && hour < 12) {
                    timeGreeting.value = 'Доброе утро!';
                } else if (hour >= 12 && hour < 18) {
                    timeGreeting.value = 'Добрый день!';
                } else if (hour >= 18 && hour < 23) {
                    timeGreeting.value = 'Добрый вечер!';
                } else {
                    timeGreeting.value = 'Доброй ночи!';
                }
            };

            onMounted(() => {
                // Обновляем время сразу после монтирования
                updateTime();

                // Запускаем обновление времени каждую секунду
                setInterval(updateTime, 1000);
            });

            // Следим за изменением времени
            watch(currentTime, (newTime) => {
                console.log(`Время обновилось: ${newTime}`);
            });

            return {
                // Задача 1
                name,
                greeting,

                // Задача 2
                counter,
                incrementCounter,

                // Задача 3
                showDescription,
                toggleDescription,

                // Задача 4
                tasks,

                // Задача 5
                newUser,
                users,
                addUser,

                // Задача 6
                number,
                squared,
                cubed,

                // Задача 7
                currentTime,
                timeGreeting
            };
        }
    }).mount('#app');
</script>
</body>
</html>